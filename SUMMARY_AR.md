# ููุฎุต ูุดุฑูุน ุฑุจุท ุชุทุจูู ุฃุจูุงู ููุชูุตูู

## ุชู ุฅูุฌุงุฒู ุจูุฌุงุญ! โ

ุชู ุจูุฌุงุญ ุฑุจุท ุชุทุจูู **Abhaam Delivery** (Bolt.new) ูุน **Backend API** ููุงุนุฏุฉ ุจูุงูุงุช **Supabase** ุจุดูู ูุงูู.

---

## ูุง ุชู ุนููู

### 1๏ธโฃ ูุงุนุฏุฉ ุงูุจูุงูุงุช (Supabase)

ุชู ุงูุชุญูู ูู ูุฌูุฏ ุฌููุน ุงูุฌุฏุงูู ุงููุทููุจุฉ:

โ **customers** - ุฌุฏูู ุงูุนููุงุก (ุงูุงุณูุ ุงููุงุชูุ ุงููุญูุธุฉ)
โ **customer_addresses** - ุนูุงููู ุงูุนููุงุก (ุงูููุฒูุ ุงูุนููุ ุฅูุฎ)
โ **restaurants** - ุงููุทุงุนู ูุงูุณูุจุฑูุงุฑูุช
โ **menu_items** - ููุชุฌุงุช ูููุงุฆู ุงููุทุงุนู
โ **orders** - ุงูุทูุจุงุช ูุน ุฌููุน ุงูุชูุงุตูู
โ **order_items** - ุนูุงุตุฑ ูู ุทูุจ
โ **captains** - ุจูุงูุงุช ุงููุจุงุชู
โ **wallet_transactions** - ุณุฌู ูุนุงููุงุช ุงููุญูุธุฉ
โ **promo_codes** - ููุจููุงุช ุงูุฎุตู
โ **order_ratings** - ุชููููุงุช ุงูุทูุจุงุช
โ **notifications** - ุงูุฅุดุนุงุฑุงุช

### 2๏ธโฃ ุงูุฃูุงู (RLS - Row Level Security)

โ ุชู ุชูุนูู RLS ุนูู **ุฌููุน** ุงูุฌุฏุงูู
โ ุณูุงุณุงุช ุญูุงูุฉ ุชุถูู ุฃู ูู ุนููู ูุฑู ุจูุงูุงุชู ููุท
โ ุณูุงุณุงุช ูุตูู ุนุงู ูููุทุงุนู ูุงูููุชุฌุงุช
โ ุญูุงูุฉ ูุงููุฉ ููุจูุงูุงุช ุงูุญุณุงุณุฉ (ุงููุญูุธุฉุ ุงูุทูุจุงุช)

### 3๏ธโฃ Backend API ุงูุฌุฏูุฏ

ุชู ุฅูุดุงุก Backend ูุงูู (`backend-supabase.cjs`) ูุชุถูู:

#### **ููุนููุงุก:**
- โ ุชุณุฌูู ุฏุฎูู ุจุณูุท (ุฑูู ุงููุงุชู + ุงูุงุณู)
- โ ุนุฑุถ ุงููุทุงุนู ูุงูููุชุฌุงุช
- โ ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
- โ ุชุชุจุน ุงูุทูุจุงุช
- โ ุฅุฏุงุฑุฉ ุงูุนูุงููู (ุฅุถุงูุฉุ ุญุฐูุ ุชุนููู ุงูุชุฑุงุถู)
- โ ุงููุญูุธุฉ ุงูุฅููุชุฑูููุฉ (ุนุฑุถ ุงูุฑุตูุฏุ ุงูุชุนุจุฆุฉุ ุงููุนุงููุงุช)
- โ ููุจููุงุช ุงูุฎุตู
- โ ุชูููู ุงูุทูุจุงุช
- โ ุงูุฅุดุนุงุฑุงุช
- โ ุณุฌู ุงูุทูุจุงุช

#### **ููุฅุฏุงุฑุฉ:**
- โ ุฅุฏุงุฑุฉ ุงููุทุงุนู
- โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
- โ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช (ุชุนููู ูุงุจุชูุ ุชุญุฏูุซ ุงูุญุงูุฉ)
- โ ุฅุฏุงุฑุฉ ุงูุนููุงุก
- โ ุฅุฏุงุฑุฉ ุงููุจุงุชู
- โ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

### 4๏ธโฃ ูููุงุช ุงูุชูุซูู

ุชู ุฅูุดุงุก ุฃุฏูุฉ ูุงููุฉ ููุฑุจุท:

๐ **BOLT_INTEGRATION_README.md** - ุงูุฏููู ุงูุฑุฆูุณู
๐ **INTEGRATION_GUIDE.md** - ุฏููู ุงูุฑุจุท ุงูุชููู
๐ **AUTH_IMPLEMENTATION.md** - ุฏููู ูุธุงู ุงููุตุงุฏูุฉ
๐ **API_DOCUMENTATION.md** - ุชูุซูู ุฌููุน APIs

---

## ููู ุชุณุชุฎุฏู ุงูุฑุจุทุ

### ุงูุฎุทูุฉ 1: ุชุดุบูู Backend

```bash
# ูู ูุฌูุฏ ุงููุดุฑูุน ุงูุญุงูู
node backend-supabase.cjs
```

Backend ุณูุนูู ุนูู: `http://localhost:3001`

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ุชุทุจูู Bolt.new

1. ุงูุชุญ ูุดุฑูุน **Abhaam Delivery** ูู Bolt.new
2. ุฃูุดุฆ ููู `.env`:

```env
VITE_SUPABASE_URL=https://0ec90b57d6e95fcbda19832f.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
VITE_API_URL=http://localhost:3001
```

3. ุฃุถู ููุชุจุฉ Supabase ูู `package.json`:

```json
"@supabase/supabase-js": "^2.58.0"
```

### ุงูุฎุทูุฉ 3: ูุณุฎ ุงููููุงุช

ูู ูููุงุช ุงูุชูุซููุ ุงูุณุฎ:

1. **ููู ุงุชุตุงู Supabase** โ `src/lib/supabase.js`
2. **ููู ุฎุฏูุฉ API** โ `src/services/api.js`
3. **ูุธุงู ุงููุตุงุฏูุฉ**:
   - `src/contexts/AuthContext.jsx`
   - `src/pages/Login.jsx`
   - `src/pages/Profile.jsx`
   - `src/components/ProtectedRoute.jsx`

### ุงูุฎุทูุฉ 4: ุงุณุชุฎุฏู API ูู ุงูููููุงุช

```javascript
import { api } from '../services/api'

// ุฌูุจ ุงููุทุงุนู
const restaurants = await api.getRestaurants()

// ุฅูุดุงุก ุทูุจ
const result = await api.createOrder(orderData)

// ุฌูุจ ุงูุนูุงููู
const addresses = await api.getCustomerAddresses(customerId)
```

---

## ุงูููุฒุงุช ุงููุชุงุญุฉ ุงูุขู

### ๐ช ููุนููุงุก ูู ุงูุชุทุจูู:
- ุชุตูุญ ุงููุทุงุนู ูุงูููุชุฌุงุช
- ุงูุทูุจ ูุงูุฏูุน (ููุฏู ุฃู ูุญูุธุฉ)
- ุชุชุจุน ุงูุทูุจุงุช ูุญุธูุงู
- ุฅุฏุงุฑุฉ ุงูุนูุงููู
- ุงููุญูุธุฉ ุงูุฅููุชุฑูููุฉ
- ููุจููุงุช ุงูุฎุตู
- ุชูููู ุงูุทูุจุงุช

### ๐ผ ููุฅุฏุงุฑููู ูู Dashboard:
- ูุฑุงูุจุฉ ุฌููุน ุงูุทูุจุงุช
- ุชุนููู ุงููุจุงุชู ููุทูุจุงุช
- ุฅุฏุงุฑุฉ ุงููุทุงุนู ูุงูููุชุฌุงุช
- ูุฑุงูุจุฉ ุงูุนููุงุก ูุงููุจุงุชู
- ุชูุงุฑูุฑ ูุฅุญุตุงุฆูุงุช ูุจุงุดุฑุฉ

---

## ูุธุงู ุงูุทูุจุงุช

### ุญุงูุงุช ุงูุทูุจ:
1. **ูู_ุงูุงูุชุธุงุฑ** โ ุงูุทูุจ ุฌุฏูุฏ
2. **ููุฏ_ุงูุชุญุถูุฑ** โ ุงููุทุนู ูุญุถุฑ ุงูุทูุจ
3. **ุฌุงูุฒ** โ ุฌุงูุฒ ููุชูุตูู
4. **ููุฏ_ุงูุชูุตูู** โ ุงููุงุจุชู ูู ุงูุทุฑูู
5. **ููุชูู** โ ุชู ุงูุชูุตูู โ
6. **ููุบู** โ ุชู ุงูุฅูุบุงุก โ

### ุทุฑู ุงูุฏูุน:
- **ููุฏู** - ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู
- **ูุญูุธุฉ** - ุงูุฏูุน ูู ุงูุฑุตูุฏ (ููุฎุตู ุชููุงุฆูุงู)
- **ููุฒุง** - ููุชุทููุฑ ุงููุณุชูุจูู

---

## ุงูุชุญุฏูุซุงุช ุงูููุฑูุฉ (Realtime)

ุงุณุชุฎุฏู Supabase Realtime ููุชุงุจุนุฉ ุงูุทูุจุงุช:

```javascript
const channel = supabase
  .channel(`order-${orderId}`)
  .on('postgres_changes', {
    event: 'UPDATE',
    schema: 'public',
    table: 'orders',
    filter: `id=eq.${orderId}`
  }, (payload) => {
    console.log('ุชุญุฏูุซ ุงูุทูุจ:', payload.new)
  })
  .subscribe()
```

ุนูุฏูุง ูุญุฏุซ ุฃู ุชุบููุฑ ูู ุงูุทูุจ (ุญุงูุฉ ุฌุฏูุฏุฉุ ุชุนููู ูุงุจุชูุ ุฅูุฎ)ุ ุณูุชููู ุงูุชุทุจูู ุงูุชุญุฏูุซ ููุฑุงู!

---

## ูุซุงู ุนููู: ุฅูุดุงุก ุทูุจ

```javascript
// 1. ุงูุนููู ูุฎุชุงุฑ ุงูููุชุฌุงุช
const cart = [
  { menu_item_id: 'xxx', quantity: 2, unit_price: 50 },
  { menu_item_id: 'yyy', quantity: 1, unit_price: 30 }
]

// 2. ุญุณุงุจ ุงูุฅุฌูุงูู
const subtotal = 130  // 2*50 + 1*30
const deliveryFee = 5
const total = 135

// 3. ุฅูุดุงุก ุงูุทูุจ
const orderData = {
  customer_id: customer.id,
  restaurant_id: restaurant.id,
  address_id: selectedAddress.id,
  items: cart,
  payment_method: 'ูุญูุธุฉ',
  subtotal,
  delivery_fee: deliveryFee,
  tax: 0,
  discount: 0,
  total
}

const result = await api.createOrder(orderData)

// 4. ุงููุชูุฌุฉ
if (result.success) {
  console.log('ุฑูู ุงูุทูุจ:', result.order_number)
  // ุงูุงูุชูุงู ูุตูุญุฉ ุงูุชุชุจุน
  navigate(`/orders/${result.order.id}`)
}
```

---

## ุงูุฃูุงู ูุงูุฎุตูุตูุฉ ๐

โ ุฌููุน ุงูุจูุงูุงุช ูุญููุฉ ุจู RLS
โ ูู ุนููู ูุฑู ุทูุจุงุชู ููุท
โ ูุง ูููู ููุนููุงุก ุงููุตูู ูุจูุงูุงุช ุจุนุถูู
โ ุงููุจุงุชู ูุฑูู ุงูุทูุจุงุช ุงููุนููุฉ ููู ููุท
โ ุงูุฅุฏุงุฑููู ููู ุตูุงุญูุงุช ูุงููุฉ

---

## ูููุงุช ุงููุดุฑูุน

```
project/
โโโ backend-supabase.cjs          โ Backend ุงูุฌุฏูุฏ
โโโ server.cjs                     โ Backend ุงููุฏูู (SQLite)
โโโ BOLT_INTEGRATION_README.md     โ ุงูุฏููู ุงูุฑุฆูุณู
โโโ INTEGRATION_GUIDE.md           โ ุฏููู ุงูุฑุจุท ุงูุชููู
โโโ AUTH_IMPLEMENTATION.md         โ ุฏููู ุงููุตุงุฏูุฉ
โโโ API_DOCUMENTATION.md           โ ุชูุซูู API
โโโ SUMMARY_AR.md                  โ ูุฐุง ุงูููู
โโโ supabase/
    โโโ migrations/                โ ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

### โ ุชู ุฅูุฌุงุฒู:
1. โ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. โ ุชุทุจูู RLS ูุงูุฃูุงู
3. โ ุฅูุดุงุก Backend ูุงูู
4. โ ุชูุซูู ุดุงูู
5. โ ุฃูุซูุฉ ุนูููุฉ

### ๐ ุฎุทูุงุชู ุงููุงุฏูุฉ:
1. ูุณุฎ ุงููููุงุช ููุดุฑูุน Bolt.new
2. ุชุดุบูู Backend
3. ุชุญุฏูุซ ุงูููููุงุช ูู ุงูุชุทุจูู
4. ุงุฎุชุจุงุฑ ุงูุชูุงูู
5. ุงููุดุฑ ููุฅูุชุงุฌ

---

## ุงุฎุชุจุงุฑ ุณุฑูุน

### ุชุณุฌูู ุฏุฎูู ุชุฌุฑูุจู:
```
ุงููุงุชู: +967 777 123 456
ุงูุงุณู: ุฃุญูุฏ ูุญูุฏ ุงูุญุฏุงุฏ
```

ุนูุฏ ุฃูู ุชุณุฌูู ุฏุฎููุ ุณูุชู ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ุชููุงุฆูุงู!

---

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:

1. ุชุญูู ูู Console ูู ุงููุชุตูุญ
2. ุชุญูู ูู Backend logs
3. ุฑุงุฌุน ูููุงุช ุงูุชูุซูู
4. ุชุฃูุฏ ูู ุชุดุบูู Backend
5. ุชุฃูุฏ ูู ููู .env

---

## ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ๐

ูุฏูู ุงูุขู ูุธุงู ุชูุตูู ูุชูุงูู ูุฑุจุท:

- โ ุชุทุจูู ุงูุนููุงุก (Bolt.new)
- โ Dashboard ุงูุฅุฏุงุฑู (React)
- โ Backend API (Express + Supabase)
- โ ูุงุนุฏุฉ ุจูุงูุงุช (Supabase PostgreSQL)
- โ ุชุญุฏูุซุงุช ููุฑูุฉ (Supabase Realtime)

ูู ุดูุก ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐

---

**ููุงุญุธุฉ:** ุชุฃูุฏ ูู ูุฑุงุกุฉ ูููุงุช ุงูุชูุซูู ุงูุฃุฎุฑู ููุญุตูู ุนูู ุชูุงุตูู ุชูููุฉ ุฃูุซุฑ.
